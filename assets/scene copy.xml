<mujoco model="climbbot_scene">
  <include file="robot.xml" pos="0 0 2"/>


<visual>
  <quality shadowsize="0"/>
  <map znear="0.01" zfar="50"/>
  <headlight ambient="0.4 0.4 0.4" diffuse="0.4 0.4 0.4"/>
  <global fovy="89.16" offwidth="1280" offheight="720" azimuth="-150" elevation="-40"/>
</visual>
<option timestep="0.001" integrator="implicitfast" gravity="0 0 -9.81"/>
<!-- <option timestep="0.002" integrator="RK4" gravity="0 0 -9.81"/> -->

  <default>
      <!-- Collision defaults: world, base, right arm, left arm -->
      <!-- World / wall / holds: contype=1, conaffinity=15 (collide with everyone) -->
      <default class="world_collision">
        <geom material="collision_material" condim="3" contype="1" conaffinity="15" priority="1" group="1" solref="0.01 0.9" solimp="0.9 0.95 1e-05" friction="1.5 0.1 0.1" />
      </default>
  </default>

  <compiler angle="radian"/>

  <asset>

    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3"
      markrgb="0.8 0.8 0.8" width="300" height="300"/>
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>
    <material name="wall_material" rgba="0.6 0.6 0.6 1"/>

    <!-- Handhold convex parts (from VHACD) -->
    <mesh name="hold_0" file="convex_parts/wall_part_0.stl"/>
    <mesh name="hold_1" file="convex_parts/wall_part_1.stl"/>
    <mesh name="hold_2" file="convex_parts/wall_part_2.stl"/>
    <mesh name="hold_3" file="convex_parts/wall_part_3.stl"/>

    <material name="hold_material" rgba="0.8 0.2 0.2 1"/>
  </asset>

  <worldbody>
    <!-- Ground plane -->
    
    <geom name="floor" size="0 0 0.05" type="plane" material="groundplane" pos="0 0 0" friction="0.1"/>
    <!-- <geom name="floor"
          type="plane"
          size="5 5 0.1"
          pos="0 0 0"
          rgba="0.3 0.5 0.3 1"
          contype="1" conaffinity="15" /> -->

    <body name="climbing_wall" pos="0 0 0" euler="-1.57 1.57 0">
    <body name="climbing_wall_tilted" pos="0 0 0" euler="1.57 0 0">
      <!-- The wall board -->
      <geom name="wall_board"
            type="box"
            size="1.0 0.005 1.5"
            pos="0 0 1.5"
            material="wall_material"
            contype="1" conaffinity="15"/>

      <!-- Handhold 1 -->
      <body name="hold_1" pos="-0.1 -0.005 0.5">
        <site name="hold_1_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>

      </body>

      <!-- Handhold 2 -->
      <body name="hold_2" pos="0.2 -0.005 0.7">
        <site name="hold_2_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>
      </body>

      <!-- Handhold 3 -->
      <body name="hold_3" pos="-0.1 -0.005 0.9">
        <site name="hold_3_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>
      </body>

      <!-- Handhold 4 -->
      <body name="hold_4" pos="0.2 -0.005 1.1">
        <site name="hold_4_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>
      </body>

      <!-- Handhold 5 -->
      <body name="hold_5" pos="-0.1 -0.005 1.3">
        <site name="hold_5_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>
      </body>

      <!-- Handhold 6 -->
      <body name="hold_6" pos="0.2 -0.005 1.5">
        <site name="hold_6_site" pos="0.0 -0.05 0.02" size="0.005" type="sphere"/>
        <geom type="mesh" mesh="hold_0" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_1" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_2" material="hold_material" contype="1" conaffinity="15"/>
        <geom type="mesh" mesh="hold_3" material="hold_material" contype="1" conaffinity="15"/>
      </body>
    </body>
    </body>
    </worldbody>
</mujoco>
